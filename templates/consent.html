{% extends "base.html" %}

{% block content %}

<div class="ui centered grid">
    <div class="eight wide column">
        <div class="ui raised very padded text container segment" style="background-color: #FFF; color: #000;">
            <div class="ui center aligned container">
                <!-- Logo Image -->
                <img src="static/logos/logo.png" style="max-width:100%; height:auto;">
            </div>

            <!-- Consent Form Header -->
            <h2 class="ui header">RetinoGuard User Study Consent Form</h2>

            <!-- Scrollable Consent Content -->
            <div style="height:300px; overflow-y:scroll; border:1px solid #ccc; padding:10px;">

                <!-- Consent Form Content -->
                <p><strong>Introduction:</strong><br>
                    Thank you for considering participation in this user study conducted by the RetinoGuard team. The purpose of this study is to evaluate a web-based tool for the early detection of Diabetic Retinopathy (DR) using deep learning models.</p>

                <p><strong>Purpose:</strong><br>
                    The main aim of this research is to gather user feedback on the effectiveness and accuracy of our Diabetic Retinopathy detection model. Your insights will contribute to the ongoing improvement of this tool.</p>

                <p><strong>Procedures:</strong><br>
                    Upon consenting to participate, you will: <br>
                    1. Annotate a series of pre-labeled fundus photos to identify areas of interest or concern. <br>
                    2. View Grad-CAM visualizations and DR ratings generated by our model for each photo. <br>
                    3. Provide immediate feedback on the modelâ€™s findings. <br>
                    4. Complete a brief survey to capture your detailed feedback.</p>

                <p><strong>Risks and Discomforts:</strong><br>
                    There are minimal risks involved in participating in this study. No personal or sensitive data will be collected.</p>

                <p><strong>Benefits:</strong><br>
                    Your participation will contribute valuable data that will be used to improve the accuracy and reliability of a tool aimed at early detection of Diabetic Retinopathy.</p>

                <p><strong>Confidentiality:</strong><br>
                    All data will be collected anonymously, and individual responses will not be disclosed. Data will be stored in a secure and encrypted database.</p>

                <p><strong>Voluntary Participation:</strong><br>
                    Participation in this study is entirely voluntary. You are free to withdraw at any time without any penalty.</p>

                <p><strong>Contact Information:</strong><br>
                    For any questions or concerns about the study, please <a href="mailto:RetinoAI@gmail.com">contact us</a>.</p>
            </div>

            <form id="consentForm" action="/annotate/0">
                <!-- Agreement Checkbox -->
                <div style="margin-top:15px; margin-bottom:15px; display: flex; align-items: center;">
                    <div class="ui checkbox" style="flex: 1;">
                        <input type="checkbox" name="agree" id="agreeCheckbox">
                        <label for="agreeCheckbox"></label>
                    </div>
                    <label for="agreeCheckbox" style="flex: 9; margin-left: 10px;">I have read and agree to the terms.</label>
                </div>
                <!-- Continue and Decline Buttons -->
                <div>
                    <button type="button" class="ui green button" id="continueButton">Continue</button>
                    <a href="/" class="ui red button">Decline</a>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- JavaScript to handle checkbox change and continue button click -->
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const form = document.getElementById('consentForm');
        const checkbox = document.getElementById('agreeCheckbox');
        const continueButton = document.getElementById('continueButton');
        
        // Add click event listener to continue button
        continueButton.addEventListener('click', (event) => {
            if (checkbox.checked) {
                form.submit();
            } else {
                alert('You must agree to the terms before continuing.');
            }
        });
    });
</script>

<!-- Custom Style for Paragraphs -->
<style>
    p {
        color: black;
    }
</style>

{% endblock %}
